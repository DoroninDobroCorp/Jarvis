# Jarvis - –ì–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫

–°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º —á–µ—Ä–µ–∑ Telegram. –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Ç–æ—Ä–æ–º –º–æ–Ω–∏—Ç–æ—Ä–µ –±–µ–∑ –ø–æ–º–µ—Ö –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
./venv/bin/python main.py

# –ó–∞–ø—É—Å–∫ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
./venv/bin/python tests/quick_test.py
./venv/bin/python tests/test_parallel_work.py
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### üìÅ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
- **`main.py`** - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞
- **`config.py`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω—ã, –ø—É—Ç–∏, –∏–Ω–¥–µ–∫—Å –º–æ–Ω–∏—Ç–æ—Ä–∞, –±—Ä–∞—É–∑–µ—Ä, —Ä–µ–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è)
- **`telegram_bot.py`** - –ü—Ä–∏–µ–º –∫–æ–º–∞–Ω–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–µ–∫—Å—Ç/–≥–æ–ª–æ—Å)
- **`command_interpreter.py`** - –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥: –≥–æ–ª–æ—Å‚Üí—Ç–µ–∫—Å—Ç, —Ç–µ–∫—Å—Ç‚Üí–ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π (Gemini)
- **`task_executor.py`** - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä: –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á
- **`screen_manager.py`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∞–º–∏, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –∫–ª–∏–∫–∏ —Å –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **`browser_controller.py`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º (–Ø–Ω–¥–µ–∫—Å/Safari/Chrome), –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–µ –æ–∫–Ω–æ
- **`user_activity_detector.py`** - –î–µ—Ç–µ–∫—Ç–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ–∂–∏–¥–∞–Ω–∏–µ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è –º—ã—à–∫–∏ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- **`logger_setup.py`** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (7 –¥–Ω–µ–π –ª–æ–≥–∏, 1 –¥–µ–Ω—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –æ—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥ –Ω–∞ –∫–æ–º–∞–Ω–¥—É)

### üìÅ –¢–µ—Å—Ç—ã (`tests/`)
üìñ **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ç–µ—Å—Ç—ã** (—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º `# –†–ï–ì–£–õ–Ø–†–ù–´–ô –¢–ï–°–¢`):
- **`quick_test.py`** - –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **`test_parallel_work.py`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **`test_anime_playback.py`** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –∑–∞–ø—É—Å–∫–∞ –≤–∏–¥–µ–æ –Ω–∞ –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω (YouTube/–∞–Ω–∏–º–µ) —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- **`test_spotify_playback.py`** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –∑–∞–ø—É—Å–∫–∞ –º—É–∑—ã–∫–∏ –≤ Spotify —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- **`test_terminal_command.py`** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤ –ø–∞–ø–∫–µ –∏ –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥—ã

üß™ **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** (–º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏):
- **`visual_test.py`** - –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç: –±—Ä–∞—É–∑–µ—Ä, –∫–ª–∏–∫–∏, –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
- **`simple_browser_test.py`** - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –±—Ä–∞—É–∑–µ—Ä–∞
- **`analyze_screenshots.py`** - –ê–Ω–∞–ª–∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ Gemini Vision

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** —Å–º. `tests/README.md`


### üìÅ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **`README.md`** - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞)
- **`tests/README.md`** - –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤, –ø—Ä–∞–≤–∏–ª–∞ –∑–∞–ø—É—Å–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è
- **`STATUS.md`** - –ü–æ–¥—Ä–æ–±–Ω—ã–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
- **`AUTOMATION_RULES.md`** - **–í–ê–ñ–ù–û!** –ü—Ä–∞–≤–∏–ª–∞ –Ω–µ–∏–Ω–≤–∞–∑–∏–≤–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### üìÅ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- **`venv/`** - –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
- **`tests/`** - –¢–µ—Å—Ç—ã (—Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Å –º–∞—Ä–∫–µ—Ä–æ–º, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å)
- **`logs/`** - –õ–æ–≥–∏ (–∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π, –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –Ω–∞ –∫–æ–º–∞–Ω–¥—É)
- **`screenshots/`** - –°–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—Ç–æ—Ä–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∞ (–∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1 –¥–µ–Ω—å)
- **`test_screenshots/`** - –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∏–∑ —Ç–µ—Å—Ç–æ–≤ (–∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1 –¥–µ–Ω—å)
- **`temp/`** - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
- **`.env`** - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ç–æ–∫–µ–Ω—ã API, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
Telegram ‚Üí —Ç–µ–∫—Å—Ç/–≥–æ–ª–æ—Å ‚Üí `telegram_bot.py`

### 2. –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
Gemini —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –≥–æ–ª–æ—Å –∏ –ø–æ–Ω–∏–º–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ

### 3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
`task_executor.py` –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –≤—Ç–æ—Ä–æ–º –º–æ–Ω–∏—Ç–æ—Ä–µ

### 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞
- –û—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥ –Ω–∞ –∫–∞–∂–¥—É—é –∫–æ–º–∞–Ω–¥—É –≤ `logs/` (–∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π)
- –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —Å—Ç–∞—Ä—à–µ 1 –¥–Ω—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ


## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ö–æ–º–∞–Ω–¥–∞:** "–í–∫–ª—é—á–∏ –ø–µ—Ä–≤—É—é —Å–µ—Ä–∏—é —Ç—Ä–µ—Ç—å–µ–≥–æ —Å–µ–∑–æ–Ω–∞ –ö–ª–∏–Ω–∫–∞ —Ä–∞—Å—Å–µ–∫–∞—é—â–µ–≥–æ –¥–µ–º–æ–Ω–∞"
1. –ì–æ–ª–æ—Å ‚Üí —Ç–µ–∫—Å—Ç (Gemini)
2. –ü–æ–Ω–∏–º–∞–Ω–∏–µ: "–æ—Ç–∫—Ä—ã—Ç—å YouTube, –Ω–∞–π—Ç–∏ –∞–Ω–∏–º–µ, –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–∏—é"
3. Safari –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –≤—Ç–æ—Ä–æ–º –º–æ–Ω–∏—Ç–æ—Ä–µ
4. –ü–æ–∏—Å–∫ –∏ –∑–∞–ø—É—Å–∫ –≤–∏–¥–µ–æ
5. –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ `logs/20250104_160000_–≤–∫–ª—é—á–∏_–ø–µ—Ä–≤—É—é_—Å–µ—Ä–∏—é_abc123.log`

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ `.env`:
```bash
TELEGRAM_BOT_TOKEN=your_token
GEMINI_API_KEY=your_key
SECONDARY_MONITOR_INDEX=1  # –ò–Ω–¥–µ–∫—Å –≤—Ç–æ—Ä–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∞ (0 –∏–ª–∏ 1)
DEFAULT_BROWSER=Yandex  # Yandex, Safari –∏–ª–∏ Chrome
WAIT_FOR_USER_IDLE=True  # –ñ–¥–∞—Ç—å –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è –º—ã—à–∫–∏ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
```

## –í–∞–∂–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

**ü§ù –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞:**
- –ë–æ—Ç –∂–¥—ë—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è –º—ã—à–∫–∏ (2 —Å–µ–∫—É–Ω–¥—ã) –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: "Jarvis –∂–¥—ë—Ç"
- –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–µ –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç –≤–∞—à–∏ –≤–∫–ª–∞–¥–∫–∏)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏: `WAIT_FOR_USER_IDLE=True` –≤ `.env`

**‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ **`AUTOMATION_RULES.md`**
- –ù–µ–∏–Ω–≤–∞–∑–∏–≤–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (API/AppleScript/Playwright)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å —Ç–æ–∫–µ–Ω–æ–≤)
- –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–æ–±–Ω–æ–≤–ª—è–π—Ç–µ README)
- **–¢–µ—Å—Ç—ã —Ç–æ–ª—å–∫–æ –≤ `tests/`** —Å –º–∞—Ä–∫–µ—Ä–æ–º `# –†–ï–ì–£–õ–Ø–†–ù–´–ô –¢–ï–°–¢` –¥–ª—è –≤–∞–∂–Ω—ã—Ö

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Playwright** –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∑–∞–¥–∞—á (—Å–º. AUTOMATION_RULES.md)
2. **–î–æ–±–∞–≤–∏—Ç—å SpotifyController** —á–µ—Ä–µ–∑ AppleScript
3. **–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ API** –≤ gemini_handler.py
